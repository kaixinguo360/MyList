<div class="head">
  <div class="title">{{title?title:'请选择标签'}}</div>
  <button class="save-btn" mat-icon-button (click)="select(tagList.selectedOptions.selected)">
    <mat-icon>save</mat-icon>
  </button>
</div>
<mat-selection-list #tagList>
  <mat-list-item class="tag-item" (click)="showCreate=true;">
    <div *ngIf="!showCreate">
      <p class="tag-item-title" matLine>新建标签</p>
      <p class="tag-item-info" matLine></p>
    </div>
    <div *ngIf="showCreate" class="tag-item">
      <mat-form-field class="full-width tag-item-create">
        <input matInput #title [disabled]="isCreating" placeholder="标签名称" maxlength="1023">
        <button matSuffix mat-icon-button [disabled]="isCreating" (click)="create(title.value)">
          <mat-icon>add</mat-icon>
        </button>
      </mat-form-field>
    </div>
  </mat-list-item>
  <mat-list-option
    class="tag-item clear"
    *ngIf="hasClear"
    [value]="'clear'">
    <p class="tag-item-title" matLine>[清空]</p>
    <p class="tag-item-info" matLine></p>
  </mat-list-option>
  <mat-list-option
    class="tag-item"
    *ngFor="let tag of tags"
    [value]="tag">
    <p class="tag-item-title" matLine>{{tag.title}}</p>
    <p class="tag-item-info" matLine>{{tag.info}}</p>
  </mat-list-option>
</mat-selection-list>
